<div class="inventory-container">
  <div class="header">
    <h2>عرض المخزون</h2>
    <p>جرد المواد الخام المتوفرة في المخزن</p>
  </div>

  <p-table 
    [value]="inventoryItems" 
    [paginator]="true" 
    [rows]="10"
    [showCurrentPageReport]="true"
    [tableStyle]="{'min-width': '50rem'}"
    sortField="id"
    [sortOrder]="1"
    [defaultSortOrder]="1"
    currentPageReportTemplate="{first} إلى {last} من {totalRecords} مادة"
  >
    <ng-template pTemplate="header">
      <tr class="text-center">
        <th class="text-center" pSortableColumn="id">رقم المادة <p-sortIcon field="id"></p-sortIcon></th>
        <th class="text-center" pSortableColumn="name">اسم المادة الخام <p-sortIcon field="name"></p-sortIcon></th>
        <th class="text-center">وحدة القياس</th>
        <th class="text-center">الكمية المتوفرة</th>
        <th class="text-center">تاريخ الإضافة</th>
        <th class="text-center">آخر تحديث</th>
        <th class="text-center" style="width: 120px">الإجراءات</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item class="text-center">
      <tr class="text-center">
        <td class="text-center">{{item.id}}</td>
        <td class="text-center">{{item.name}}</td>
        <td class="text-center">{{getUnitLabel(item.unit)}}</td>
        <td class="text-center">{{item.unit_count}}</td>
        <td class="text-center" dir="ltr">{{item.created_at | date:'dd MMM yyyy hh:mm a'}}</td>
        <td class="text-center" dir="ltr">{{item.updated_at | date:'dd MMM yyyy hh:mm a'}}</td>
        <td class="text-center">
          <div class="d-flex justify-content-center gap-2">
            <button 
              class="btn btn-sm btn-outline-primary" 
              (click)="onEdit(item.id)"
              title="تعديل">
              <i class="pi pi-pencil"></i>
            </button>
            <button 
              class="btn btn-sm btn-outline-danger" 
              (click)="onDelete(item.id)"
              title="حذف">
              <i class="pi pi-trash"></i>
            </button>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
