<div class="inventory-container">
  <div class="header">
    <h2>عرض المخزون</h2>
    <p>جرد المواد الخام المتوفرة في المخزن</p>
  </div>

  <p-table 
    [value]="inventoryItems" 
    [paginator]="true" 
    [rows]="10"
    [showCurrentPageReport]="true"
    [tableStyle]="{'min-width': '50rem'}"
    sortField="id"
    [sortOrder]="1"
    [defaultSortOrder]="1"
    currentPageReportTemplate="{first} إلى {last} من {totalRecords} مادة"
  >
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id">رقم المادة <p-sortIcon field="id"></p-sortIcon></th>
        <th pSortableColumn="name">اسم المادة الخام <p-sortIcon field="name"></p-sortIcon></th>
        <th>وحدة القياس</th>
        <th>الكمية المتوفرة</th>
        <th>تاريخ الإضافة</th>
        <th>آخر تحديث</th>
        <th class="text-center" style="width: 120px">الإجراءات</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
      <tr>
        <td>{{item.id}}</td>
        <td>{{item.name}}</td>
        <td>{{getUnitLabel(item.unit)}}</td>
        <td>{{item.unit_count}}</td>
        <td>{{item.created_at | date:'short'}}</td>
        <td>{{item.updated_at | date:'short'}}</td>
          <td>
          <div class="d-flex justify-content-center gap-2">
            <button 
              class="btn btn-sm btn-outline-primary" 
              (click)="onEdit(item.id)"
              title="تعديل">
              <i class="pi pi-pencil"></i>
            </button>
            <button 
              class="btn btn-sm btn-outline-danger" 
              (click)="onDelete(item.id)"
              title="حذف">
              <i class="pi pi-trash"></i>
            </button>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
